<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Basic Shapes on Canvas</title>
	<!-- <script src="main.js"></script> -->

</head>
<script src="https://cdn.jsdelivr.net/npm/p5@0.10.2/lib/p5.js"></script>


<body>

</body>

</html>
<script>
	// 色(p5.jsにはcolor関数があるので、cで定義)
	let c;

	// 線の長さ
	let lineLength = 0;
	// 角度
	let angle = 0;
	// x,y座標
	let x = 0;
	let y = 0;

	// 1フレームごとに増加される線の長さ
	let lineLengthSpeed = 0.1
	// 1フレームごとに増加される角度
	let angleSpeed = 100;
	// 1フレームごとに増加されるx,y座標
	let xSpeed = 0.1;
	let ySpeed = 0.1;

	function setup() {
		// キャンバスを作成
		createCanvas(windowWidth, windowHeight);
		// 背景色を設定
		background(255);
		// 線の太さを設定
		strokeWeight(1);

		c = color(181, 157, 0);

	}

	// 0からxまでのランダムな整数を返す
	function genNum(x) {
		return Math.floor(Math.random() * x);
	}

	// ランダムな色を生成
	function genColor() {
		return color(genNum(255), genNum(255), genNum(255));
	}

	// 似た色を生成
	function genSimilarColor(c) {
		let r = c.levels[0] + genNum(50) - 25;
		let g = c.levels[1] + genNum(50) - 25;
		let b = c.levels[2] + genNum(50) - 25;
		return color(r, g, b);
	}

	// １フレームごとにコールされる関数
	function draw() {
		c = genSimilarColor(c);
		// lineLength = random(70, 200);
		lineLength += lineLengthSpeed;
		push();
		// 軸を回転させる
		translate(x, windowHeight / 2);
		x += xSpeed;
		y += ySpeed;

		rotate(radians(angle));
		stroke(c);
		line(0, 0, lineLength, 0);
		pop();

		// 角度を増やす
		angle += angleSpeed;


		// if (key == 's' || key == 'S') saveCanvas(gd.timestamp(), 'png');
		// if (keyCode == DELETE || keyCode == BACKSPACE) background(255);

		// // reverse direction and mirror angle
		// if (key == 'd' || key == 'D') {
		// 	angle += 180;
		// 	angleSpeed *= -1;
		// }

		// // change color
		// if (key == ' ') c = color(random(255), random(255), random(255), random(80, 100));
		// // default colors from 1 to 4
		// if (key == '1') c = genSimilarColor(color(181, 157, 0));
		// if (key == '2') c = color(0, 130, 164);
		// if (key == '3') c = color(87, 35, 129);
		// if (key == '4') c = color(197, 0, 123);
	}


</script>

<style>
	body {

		/* 背景色を暗めにする */
		background-color: #202020;

		/* 直下の要素を中央に配置する */
		display: flex;
		align-items: center;
		justify-content: center;

		/* 隙間を潰す */
		margin: 0;

	}
</style>